{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Abhayas Assessment\\\\frontend\\\\src\\\\component\\\\RuleSection.jsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RuleSection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteProducts = id => {\n      fetch(`http://localhost:3000/removerules/:${id}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          'ids': this.state.checkedBoxes\n        }),\n        headers: {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          console.log(\"deleted 200\");\n        }\n      });\n    };\n\n    this.toggleCheckbox = (e, item) => {\n      if (e.target.checked) {\n        let arr = this.state.checkedBoxes;\n        arr.push(item.id);\n        this.setState = {\n          checkedBoxes: arr\n        };\n      } else {\n        let items = this.state.checkedBoxes.splice(this.state.checkedBoxes.indexOf(item.id), 1);\n        this.setState = {\n          checkedBoxes: items\n        };\n      } //console.log(this.state.checkedBoxes);\n\n    };\n\n    this.state = {\n      products: []\n    };\n    this.headers = [{\n      key: '_id',\n      label: 'Id'\n    }, {\n      key: 'rule',\n      label: 'rule'\n    }];\n    this.state = {\n      checkedBoxes: []\n    };\n    this.deleteProducts = this.deleteProducts.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/addrule').then(response => {\n      return response.json();\n    }).then(result => {\n      //console.log(result);\n      this.setState({\n        products: result\n      });\n    });\n  }\n\n  render() {\n    const productFound = this.state.products && this.state.products.length;\n\n    if (productFound) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"msg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.deleteProducts,\n          children: \"Delete Selected Product(s)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"datatable\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: this.headers.map(function (h) {\n                return /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: h.label\n                }, h.key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 12\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.products.map(function (item, index) {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: index % 2 ? \"odd_col\" : \"even_col\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    className: \"selectsingle\",\n                    value: \"{item.id}\",\n                    checked: this.state.checkedBoxes.find(p => p._id === item.id),\n                    onChange: e => this.toggleCheckbox(e, item)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 16\n                  }, this), \"\\xA0\\xA0\", item.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 12\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 10\n              }, this);\n            }.bind(this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"container\",\n        children: \"No product found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}\n\nexport default RuleSection;","map":{"version":3,"sources":["C:/Users/admin/Desktop/Abhayas Assessment/frontend/src/component/RuleSection.jsx"],"names":["React","useState","useEffect","useRef","axios","RuleSection","Component","constructor","props","deleteProducts","id","fetch","method","body","JSON","stringify","state","checkedBoxes","headers","then","response","status","console","log","toggleCheckbox","e","item","target","checked","arr","push","setState","items","splice","indexOf","products","key","label","bind","componentDidMount","json","result","render","productFound","length","map","h","index","find","p","_id","name","code","price"],"mappings":"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","sourcesContent":["import React,{ useState,useEffect,useRef}  from 'react';\r\nimport axios from 'axios';\r\nclass RuleSection extends React.Component  {\r\n \r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {products: []};\r\n\t\tthis.headers = [\r\n\t\t\t{ key: '_id', label: 'Id'},\r\n\t\t\t{ key: 'rule', label: 'rule' },\r\n\t\t\r\n\t\t];\r\n\t\tthis.state = { checkedBoxes: []\t};\r\n\t\tthis.deleteProducts = this.deleteProducts.bind(this);\r\n\t\tthis.toggleCheckbox = this.toggleCheckbox.bind(this);\r\n\t}\r\n\t\r\n\tdeleteProducts = (id) => {\r\n\t\t\r\n\t\t\tfetch(`http://localhost:3000/removerules/:${id}`, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify({'ids' : this.state.checkedBoxes}),\r\n\t\t\t\theaders: {'Content-Type' : 'application/json; charset=UTF-8'}})\r\n\t\t\t.then(response => {\r\n\t\t\t\t\tif(response.status === 200) {\r\n\t\t\t\t\t\tconsole.log(\"deleted 200\");\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t\r\n\t\r\n\ttoggleCheckbox = (e, item) => {\t\t\r\n\t\tif(e.target.checked) {\r\n\t\t\tlet arr = this.state.checkedBoxes;\r\n\t\t\tarr.push(item.id);\r\n\t\t\t\r\n\t\t\tthis.setState = { checkedBoxes: arr};\r\n\t\t} else {\t\t\t\r\n\t\t\tlet items = this.state.checkedBoxes.splice(this.state.checkedBoxes.indexOf(item.id), 1);\r\n\t\t\t\r\n\t\t\tthis.setState = {\r\n\t\t\t\tcheckedBoxes: items\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t//console.log(this.state.checkedBoxes);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tfetch('http://localhost:3000/addrule')\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}).then(result => {\r\n\t\t\t\t//console.log(result);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tproducts:result\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t});\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst productFound = this.state.products && this.state.products.length;\r\n\t\tif(productFound) {\r\n\t\t\treturn (\r\n\t\t\t\t<div id=\"container\">\r\n\t\t\t\t\t<div id=\"msg\"></div>\r\n\t\t\t\t\t<button type=\"button\" onClick={this.deleteProducts}>Delete Selected Product(s)</button>\r\n\t\t\t\t\t<table className=\"datatable\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.headers.map(function(h) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<th key={h.key}>{h.label}</th>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.products.map(function(item, index) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index} className={(index % 2) ? \"odd_col\" : \"even_col\"}>\r\n\t\t\t\t\t\t\t\t\t  <td><input type=\"checkbox\" className=\"selectsingle\" value=\"{item.id}\" checked={this.state.checkedBoxes.find((p) => p._id === item.id)} onChange={(e) => this.toggleCheckbox(e, item)}/>\r\n\t\t\t\t\t\t\t\t\t  &nbsp;&nbsp;{item.id}\r\n\t\t\t\t\t\t\t\t\t  </td>\r\n\t\t\t\t\t\t\t\t\t  <td>{item.name}</td>\r\n\t\t\t\t\t\t\t\t\t  <td>{item.code}</td>\r\n\t\t\t\t\t\t\t\t\t  <td>{item.price}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)}.bind(this))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div id=\"container\">\r\n\t\t\t\t\tNo product found\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\nexport default RuleSection;\r\n"]},"metadata":{},"sourceType":"module"}